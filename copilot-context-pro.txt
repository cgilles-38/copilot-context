# === IDENTIT√â ===
Nom : Christian Gilles
Poste : Chef de Projet Technique
Manager : Jean-No√´l Patrouillault
Skip Manager : Damien Dine
Localisation : LYON, Prodware Rh√¥ne Alpes

# === EXP√âRIENCE ===
- D√©veloppeur en C/AL depuis 20 ans
- Environnement AL avec Visual Studio Code depuis 6 mois
- Utilisation intensive de GitHub Copilot depuis 2 mois

# === PROJETS EN COURS ===
- Optimisation proactive de GitHub Copilot dans un projet Business Central AL
- Cr√©ation et utilisation d‚Äôun fichier copilot-context.txt pour am√©liorer l‚Äôautomatisation

# === VEILLE TECHNIQUE SOUHAIT√âE ===
- Cibl√©e, globale et non intrusive
- Portant uniquement sur les √©volutions techniques de Business Central NAV
- Partag√©e dans une conversation Teams d√©di√©e entre Christian et Copilot
- Inform√© avant les coll√®gues
- R√©ception de toutes les informations techniques ayant une influence majeure sur le m√©tier

## Projet FROMM France ‚Äì GLOBAL
# üìò CONTEXTE COPILOT FROMM FRANCE (Structure Optimis√©e)

Version structur√©e: 23/08/2025  (Ajout index + hi√©rarchisation)  
Derni√®re r√©vision structur√©e: 23/08/2025  (TOC cliquable + synchro mapping objets)  
NOTE: Ancienne annexe historique supprim√©e (archivage Git) pour all√©ger ce fichier. R√©f√©rences essentielles uniquement.

---
## üóÇÔ∏è Index Rapide
1. [üéØ Vision & Objectifs](#-vision--objectifs)
2. [üö¶ √âtats & Phases](#-√©tats--phases-synth√®se)
3. [üß≠ Gouvernance & Proc√©dures](#-gouvernance--proc√©dures-essentielles)
4. [üõ† Outils Cl√©s](#-outils-cl√©s)
5. [üìê Standards & Conventions](#-standards--conventions-prioritaires)
6. [üß± Mapping Objets 50xxx ‚ûú 60xxx](#-mapping-objets-50xxx--60xxx-rappel)
7. [üîí R√®gles Critiques](#-r√®gles-critiques-blocage)
8. [‚úîÔ∏è Processus Qualit√© & Tests](#Ô∏è-processus-qualit√©--tests-synth√®se)
9. [üë• Interlocuteurs](#-interlocuteurs-r√¥le-m√©mo)
10. [üìë R√©f√©rences Cl√©s](#-r√©f√©rences-cl√©s-imm√©diates)
11. [üß™ Snippets & Productivit√©](#-snippets--productivit√©)
12. [üõë Quotas](#-quotas)
13. [üìé Annexe Historique](#-annexe--contenu-int√©gral-historique-inchang√©)

---
## üéØ Vision & Objectifs
Migration NAV 2013 (objets 50xxx) vers Business Central 26 (objets 60xxx) en assurant: continuit√© op√©rationnelle, conformit√©, performance, standardisation code, suppression sp√©cifiques obsol√®tes.

## üö¶ √âtats & Phases (Synth√®se)
- Phase actuelle: Consolidation post-migration Reports (commercial + statistique), pr√©paration campagne tests structur√©e.
- Reports: 47 commerciaux migr√©s, 13 statistiques optimis√©s (SP-1712). Layouts normalis√©s.x

## üß≠ Gouvernance & Proc√©dures (Condens√©)
- Ce fichier conserve seulement vision, phases, r√®gles critiques.
- D√©tails d√©plac√©s vers : `app/docs/Standards/`, `app/docs/Guides/`, `COP/README.md`.
- Branches d√©di√©es pour √©volutions majeures; r√©f√©rences horodat√©es dans `Prompt.md`.
- Coh√©rence docs ‚Üî code obligatoire; pas de suppression sans analyse impact.
- Tra√ßabilit√© prompts : 1 ID unique (voir `COP/README.md`).

### üîÅ Tra√ßabilit√© COP (Rappel 3 points)
1. Result : compl√©t√© √† la cl√¥ture (livrables/impact).
2. Summary : enrichi en continu pendant √©changes.
3. ID unique dans `Prompt.md`, summary, result.

## üõ† Outils Cl√©s (R√©f√©rence rapide)
- Extension fromm-extension (Ctrl+Alt+F) normalisation.
- Reports : `app\src\Report\`
- Layouts RDLC : `app\src\Report\layout\` (chemin stable)

## üìê Standards (R√©sum√©)
| Domaine | R√®gle | Source |
|---------|-------|--------|
| Suffixes objets | Suffixe `FR0` obligatoire | Coding Standards |
| IDs | 60000‚Äë69999 personnalis√©s | Conventions internes |
| Dates | JJ/MM/AA (+ HH:MM si critique) | Date_and_Report_Standards.md |
| R√©gions | Template FROMM (#region) | Analyzer_Rules.md |
| Labels | Fran√ßais + Lbl | Analyzer_Rules.md |
| Performances | SP-1712 (cl√©s / SetRange) | SP-1712_Methodology.md |

## üß± Mapping Objets 50xxx ‚ûú 60xxx (Rappel)
Toujours citer: `AncienID ‚ûú NouvelID - Type Nom`. Ex: `50069 ‚ûú 60069 - Report Commercial Invoice FROMMFR0`.
En cas de fusion: `50069,50021 ‚ûú 60090`. Objets supprim√©s: marquer `(supprim√©)`.

### üì§ Table synchronis√©e depuis Plan de Test (v0.2.1)
Source: `app\docs\Plan de test\Plan_de_Test_Commercial.md` ‚Äì section ¬´ Table de Correspondance Objets Personnalis√©s ¬ª.

<!-- MAPPING_TABLE_START -->
| Ancien_Nos | Nouveau_No | Type | Nom (BC26) | Domaine | Reli√© Cas Test | Statut Migration | Commentaire |
|------------|------------|------|------------|---------|----------------|------------------|-------------|
| 50069 | 60069 | Report | Commercial Invoice FROMM | Ventes/Reports | REP-CMP-INV | ‚úî | Layout normalis√© |
| 50021 | 60021 | Report | Proforma Invoice FROMM | Ventes/Reports | REP-CMP-INV | ‚úî |  |
| 50060 | 60060 | Report | √âvaluation Stock FROMM | Stock/Stats | STAT-STK-FROMM | ‚òê | √Ä revalider valeurs |
| 50017 | 60017 | Codeunit | Sales Posting Ext FROMM | Ventes | SLS-FLOW-01 | ‚úî | Copie groupes TVA |
| 50022 | 60022 | Table | Historique notation client | Client | CUST-CL-HIST | ‚òê | Plus utilis√© (v√©rifier purge) |
| 50040 | 60040 | Table | Missing Information | Client | CUST-SYNC | ‚úî | Contr√¥le champs obligatoires |
| 50041 | 60041 | Table | Fonction professionnelle | Fournisseur | VEND-PRT | ‚úî | Groupe pr√™ts d√©pendances |
| 50069,50021 | 60090 | Codeunit | Export Fromm Holding Dispatcher | Achats | PUR-EXP / PUR-CCA-CALC | ‚òê | Exemple fusion (√† confirmer) |
| 50000 | 60000 | Page | Feuille commentaire | Ventes | SLS-COMM-CMT | ‚úî | Commentaires affich√©s |
| 50032 | 60032 | Page | Feuille commentaire Livraison | Ventes | SLS-COMM-CMT | ‚úî | Livraison BL |
| (liste √† compl√©ter) |  |  |  |  |  |  |  |
<!-- MAPPING_TABLE_END -->

NOTE: Toute mise √† jour de cette table doit √™tre r√©percut√©e dans le plan de test puis ¬´ pull ¬ª ici (ajout entr√©e + statut). Utiliser m√™mes colonnes.

## üîí R√®gles Critiques
| Interdiction | Action |
|--------------|--------|
| `&&` PowerShell | S√©parer ou `;` |
| Modifier IDs sans validation | Demander validation m√©tier |
| `this` en AL | Retirer (utiliser variable) |
| Supprimer proc√©dure utilis√©e | Rechercher r√©f√©rences avant |

## ‚úîÔ∏è Processus Qualit√© (Pipeline)
1. Normalisation (Ctrl+Alt+F) + analyzers.
2. Build + tests.
3. Mapping objets mis √† jour.
4. Docs synchronis√©es (Prompt.md / COP / Standards).
5. Plan de test + journal anomalies.
6. KPI mise √† jour.

## üë• Interlocuteurs (R√¥le M√©mo)
L√©a (Achats/Articles), Val√®rie (Direction Admin), Nathalie (Compta), Marc (Export), M√©lanie (ADV).

## üìë R√©f√©rences Cl√©s
| Sujet | Fichier |
|-------|---------|
| Plan de test | app/docs/"Plan de test"/Plan_de_Test_Commercial.md |
| Standards code | app/docs/Standards/FROMM_Coding_Standards.md |
| Analyzers | app/docs/Standards/Analyzer_Rules.md |
| Dates & Reports | app/docs/Standards/Date_and_Report_Standards.md |
| Performance | app/docs/Performance/SP-1712_Methodology.md |
| Snippets | app/docs/Guides/GUIDE_SNIPPETS_FROMM.md |
| Tra√ßabilit√© prompts | COP/README.md |
| Historique prompts | Prompt.md |

## üß™ Snippets
Voir `app/docs/Guides/GUIDE_SNIPPETS_FROMM.md`.

## üõë Quotas
Copilot : surveiller barre VS Code; quota √©puis√© ‚Üí mode suggestions basiques.

---
## (Fin du fichier ‚Äì annexe historique supprim√©e, se r√©f√©rer au contr√¥le de version Git pour l'historique complet)
- Performance SP-1712 : `app\docs\Performance\SP-1712_Methodology.md`

### Ressources Techniques
- Report Extensions Templates : `app\src\ReportExtension\`
- Layouts RDLC : `app\src\Report\layout\`
- Scripts de g√©n√©ration : `app\scripts\`

### Documents de r√©f√©rence cr√©√©s :
- `app\docs\Migration\feuille_de_route_pages_restructuree.md` : Feuille de route restructur√©e et v√©rifi√©e
- `app\docs\Migration\Documentation_Technique_Migration_FROMM.md` : Document technique client
- `Prompt.md` : Historique chronologique de tous les prompts du projet

### Processus de validation √©tabli :
- V√©rification syst√©matique √† 100% de la coh√©rence code/documentation
- Correction automatique des inexactitudes documentaires
- Ton modeste et prudent dans toute documentation
- Validation factuelle sans expressions excessives

## Outils et extensions

L'extension fromm-extension est un outil interne d√©velopp√© pour faciliter le travail de migration : automatisation de t√¢ches r√©p√©titives, g√©n√©ration de rapports, assistance √† la reprise des donn√©es et √† la conversion des objets AL. Elle n'est pas le c≈ìur du projet mais un support technique pour acc√©l√©rer et fiabiliser la migration.

### üöÄ **Commande principale** : `Ctrl+Alt+F`
Applique automatiquement TOUS les standards FROMM sur le fichier AL ouvert.

### üìä **R√®gles CodeCop int√©gr√©es** (100% valid√©es) :

#### **CodeCop (AA) - R√®gles principales**
- **AA0001** : Il doit y avoir exactement un espace apr√®s ';'
- **AA0002** : Il ne doit pas y avoir d'espace avant ';'
- **AA0003** : Il doit y avoir exactement un espace avant et apr√®s '='
- **AA0005** : Supprime BEGIN..END inutiles (une seule instruction)
- **AA0008** : Ajoute parenth√®ses manquantes aux appels de m√©thodes
- **AA0013** : Les parenth√®ses ne doivent √™tre utilis√©es que pour clarifier la priorit√©
- **AA0040** : Les dimensions doivent avoir une propri√©t√© Caption
- **AA0072** : Le nom de la variable doit avoir un pr√©fixe
- **AA0073** : Le nom de la variable doit avoir un suffixe
- **AA0074** : Renomme labels avec pr√©fixe Lbl
- **AA0100** : Structure des r√©gions FROMM (automatique via extension)
- **AA0100EndRegion** : Compl√®te le nom des #endregion avec le nom #region correspondant
- **AA0175** : Seuls les types de donn√©es primitifs peuvent √™tre utilis√©s pour les param√®tres de fonction
- **AA0217** : Remplace StrSubstNo litt√©raux par des labels
- **AA0225** : Les variables doivent avoir une valeur ou √™tre initialis√©es
- **AA0232** : Seules les variables d'√©criture peuvent √™tre transmises par r√©f√©rence aux proc√©dures
- **AA0237** : Le nom de la proc√©dure doit √™tre en anglais
- **AA0470** : Suppression des pragma et warning sp√©cifiques (protection auto)

#### **UICop (AW) - Interface utilisateur**
- **AW0001** : Le champ doit avoir une propri√©t√© ToolTip
- **AW0002** : La page doit avoir un titre usable
- **AW0004** : Une page d'actions doit avoir un titre usable
- **AW0005** : Les actions doivent avoir une propri√©t√© caption
- **AW0006** : Les groupes de pages doivent avoir une propri√©t√© caption
- **AW0009** : Les contr√¥les doivent avoir une propri√©t√© ApplicationArea
- **AW0010** : √âviter les caract√®res non standard dans les captions
- **AW0011** : Utiliser ApplicationArea sur les pages

#### **PerTenantExtensionCop (PTE) - Extensions**
- **PTE0001** : Un objet de type 'table' avec l'ID X ne peut pas √™tre publi√©
- **PTE0002** : Un objet de type 'page' ne peut pas √©tendre un autre objet
- **PTE0003** : Les fonctions ne doivent pas abonner aux √©v√©nements dans la m√™me extension
- **PTE0004** : Les proc√©dures du type Table ne doivent pas √™tre external
- **PTE0005** : Les propri√©t√©s d'objet ne doivent pas √™tre modifi√©es dans une extension
- **PTE0006** : Une proc√©dure 'OnDelete' ne doit pas √™tre d√©clar√©e dans une TableExtension
- **PTE0007** : Une proc√©dure 'OnInsert' ne doit pas √™tre d√©clar√©e dans une TableExtension
- **PTE0008** : Une proc√©dure 'OnModify' ne doit pas √™tre d√©clar√©e dans une TableExtension
- **PTE0009** : Une proc√©dure 'OnRename' ne doit pas √™tre d√©clar√©e dans une TableExtension

#### **AppSourceCop (AS) - Validation AppSource**
- **AS0001** : Les tables et extensions de table doivent avoir une propri√©t√© DataClassification
- **AS0002** : Les champs doivent avoir une propri√©t√© DataClassification
- **AS0003** : Les proc√©dures obsol√®tes ne doivent pas √™tre utilis√©es
- **AS0004** : Les √©l√©ments obsol√®tes ne doivent pas √™tre r√©f√©renc√©s
- **AS0011** : Un objet de r√©f√©rence ne peut pas √™tre supprim√©
- **AS0013** : Un champ ne peut pas √™tre supprim√©
- **AS0014** : Les propri√©t√©s d'un objet ne peuvent pas √™tre chang√©es
- **AS0015** : Une proc√©dure ne peut pas √™tre supprim√©e
- **AS0016** : Une proc√©dure ne peut pas √™tre modifi√©e

#### **R√®gles sp√©cifiques FROMM France**
- **FROMM001** : Protection contre les corruptions du formatage automatique (extension)
- **AB0999** : Gestion de la documentation d'en-t√™te FROMM standardis√©e
- **Suffixe obligatoire** : Tous les objets doivent avoir le suffixe " FR0"
- **Pr√©fixe variables** : Rec, Cdu, Pag selon le type d'objet
- **Labels fran√ßais** : Tous les labels en fran√ßais avec suffixe Lbl
- **Commentaires XML** : /// <summary> obligatoires sur toutes les proc√©dures
- **R√©gions standardis√©es** : #region selon template FROMM

### üõ†Ô∏è **Installation et utilisation** :
```powershell
# Installation automatique
.\app\fromm-extension\build-and-install.ps1
```

**Utilisation recommand√©e** : Appuyer sur `Ctrl+Alt+F` dans tout fichier AL pour normalisation automatique selon standards FROMM.

### üéØ **Derni√®res √©volutions (15 ao√ªt 2025 - Apr√®s-midi)** :
- **URGENCE R√âSOLUE** : Corruption DraftRecapitulationFR0.Report.al par extension ‚Üí fichier restaur√© fonctionnel
- **API Modernis√©e** : ExportGLEntriesTaxFR0.Report.al migr√© File‚ÜíTempBlob (compatibilit√© extension)
- **Architecture Extension** : Modularit√© aa/, aw/, pte/, as/, fromm/ op√©rationnelle
- **Debug AA0470** : R√®gle PageNo protection contre pragma corrompant la syntaxe
- **Protection formatage** : R√®gle FROMM001 renforc√©e contre corruptions automatiques
- **47 Reports Commerciaux** : Migration DELTA‚ÜíAL compl√©t√©e avec 26 corrections appliqu√©es

## Principes techniques

- Remplacer le code sp√©cifique par du code standard chaque fois que possible.
- R√©utiliser le code existant avant de cr√©er de nouvelles fonctions.
- Chaque fois qu'une anomalie apparait plusieurs fois, avoir des propositions d'√©volutions sur fromm-extension.
- Plus nous avan√ßons sur le projet plus tu es performant sur les corrections.
- Chaque am√©lioration valid√©e devient un mode de fonctionnement semi-automatique.
- Tu te serviras de `app\docs\Rapports\SP-1712_Synthese_Detaillee.md` (fait pour un autre client), pour optimiser les performances de tous les objets dans toutes les occasions.
- Ajouter this n'est pas une solution AL acceptable : propose moi toujours une aurte alternative

## Standards et Conventions FROMM

### Nommage des Reports
- Format: [EntityType][Action]FROMMFR0
- Exemples: SalesInvoiceFROMMFR0, PurchaseOrderFROMMFR0
- ID Range: 60000-69999 pour les reports personnalis√©s

### Standards de Formatage des Dates FROMM

#### R√®gles Obligatoires
1. **Privil√©gier Date et Heure**: Afficher syst√©matiquement date ET heure dans les documents
2. **Format Standard**: JJ/MM/AA pour les dates courtes
3. **Format Complet**: JJ/MM/AA HH:MM pour la tra√ßabilit√© compl√®te

#### Code AL Standardis√©
```al
var
    DocumentDateText: Text;        // Format JJ/MM/AA
    DocumentDateTimeText: Text;    // Format JJ/MM/AA HH:MM
    CurrentDateTimeText: Text;     // Timestamp de g√©n√©ration

trigger OnAfterGetRecord()
begin
    // Date du document (JJ/MM/AA)
    DocumentDateText := Format("Document Date", 0, '<Day,2>/<Month,2>/<Year,2>');
    
    // Date et heure compl√®te (JJ/MM/AA HH:MM)
    DocumentDateTimeText := Format("Document Date", 0, '<Day,2>/<Month,2>/<Year,2> <Hours24,2>:<Minutes,2>');
    
    // Timestamp de g√©n√©ration
    CurrentDateTimeText := Format(CurrentDateTime, 0, '<Day,2>/<Month,2>/<Year,2> <Hours24,2>:<Minutes,2>');
end;
```

#### Variables Standardis√©es par Type de Date
- **DocumentDateTimeText**: Documents critiques (factures, commandes)
- **PostingDateText**: Dates de comptabilisation
- **DueDateText**: Dates d'√©ch√©ance
- **ShipmentDateTimeText**: Dates d'exp√©dition avec heure
- **CurrentDateTimeText**: Timestamp de g√©n√©ration

#### Checklist Validation Dates
- [ ] Format JJ/MM/AA respect√©
- [ ] Date + Heure pour documents critiques
- [ ] Timestamp g√©n√©ration pr√©sent
- [ ] Coh√©rence visuelle layouts RDLC
- [ ] Tests dates limites (01/01, 31/12)

### Architecture Reports

#### Reports Sp√©cifiques vs Report Extensions
- **Score < 50%**: Cr√©er Report Extension
- **Score ‚â• 50%**: Maintenir Report Sp√©cifique
- **Crit√®res**: Complexit√© modifications NAV 13 ‚Üí BC 26

#### Template Report Extension
```al
reportextension 60XXX "Report Name FR0" extends "Standard BC Report"
{
    dataset
    {
        modify("Main DataItem")
        {
            column(CompanyNameFR; CompanyNameText) { }
            column(DocumentDateFR; DocumentDateTimeText) { }
        }
    }
}
```

## Standards et organisation

- Utilisation syst√©matique des r√©gions (#region / #endregion) pour structurer chaque objet AL :
  - Global Variables and Constants
  - Public Functions
  - Private Functions
  - Event Management
- En-t√™te documentaire standardis√© en d√©but de chaque fichier AL (description, responsabilit√©s, organisation du code, auteur, date, version).
- Ajout de commentaires XML /// <summary> sur chaque proc√©dure publique et priv√©e.
- Respect des conventions de nommage FROMM (variables, proc√©dures, labels).
- Application des r√®gles CodeCop Analyzer sp√©cifiques au projet (ex : AA0008, parenth√®ses sur appels sans param√®tre).
- **Optimisations SP-1712 syst√©matiques :** SetCurrentKey et ordre des filtres sur tous les reports.

## Contraintes et attentes

- Tous les objets AL doivent √™tre conformes au standard documentaire et structurel.
- Les corrections automatiques doivent √™tre robustes et exhaustives (aucun oubli sur les parenth√®ses, les r√©gions, etc.).
- Les modifications doivent √™tre tra√ßables et document√©es (Prompt.md, copilot-context.txt).
- L'extension doit fonctionner sur tout le projet, pas seulement sur fromm-extension.
- **V√©racit√© absolue :** Aucune fausse information dans la documentation, v√©rification syst√©matique contre l'√©tat r√©el du code.

## Bonnes pratiques

- ‚úÖ **Tester les corrections sur des objets r√©els** (validation effectu√©e sur CalculateDeprecStatFR0.Report.al et autres).
- ‚úÖ **Extension fromm-extension op√©rationnelle** : Utiliser Ctrl+Alt+F pour normaliser automatiquement tout fichier AL.
- ‚úÖ **Documentation v√©rifi√©e √† 100%** : Correspondance parfaite entre documentation et code r√©el.
- Mettre √† jour le contexte et la documentation √† chaque √©volution majeure.
- **Restructuration documentaire :** Matrice + chapitre par objet avec sections Avant/Apr√®s.

## R√©f√©rences

- Standards FROMM France (voir README.md et en-t√™tes des fichiers AL)
- Fichier de contexte projet global : BC_FROMM\copilot-context.txt
- Fichier de contexte fromm-extension/copilot-context.txt (pour l'extension)
- Historique des prompts : BC_FROMM\Prompt.md
- Documentation migration : app\docs\Migration\
- Synth√©se migration statistiques : BC_FROMM\app\docs\Migration\Documentation_Technique_Migration_FROMM.md et app\docs\Migration\feuille_de_route_pages_restructuree.md
- Synth√©se migration des reports commerciaux : app\docs\Migration\Feuille_Route_Reports_Commerciaux.md (MAJ 15/08/2025)

## Processus de validation des √©volutions

- Toute am√©lioration ou correction doit √™tre test√©e sur un ou plusieurs objets r√©els.
- La documentation (copilot-context.txt, Prompt.md) doit √™tre mise √† jour √† chaque √©volution majeure.
- Les √©volutions valid√©es sont int√©gr√©es dans l'extension et communiqu√©es √† l'√©quipe.
- **V√©rification 100% obligatoire :** Chaque information document√©e doit correspondre exactement √† l'√©tat r√©el du code.

## Interlocuteurs chez FROMM France

L√©a : Achats et articles
Val√®rie : Directrice Admin
Nathalie : Compta
Marc : Export
M√©lanie : ADV

## Communication avec les d√©veloppeurs

Propose des dictons de d√©veloppeur amusant de temps en temps du type : "Tester c'est douter".
Propose par √©tape, des informations pour m'aider √† monter en comp√©tence.
Tiens moi inform√© de toutes informations importantes relatives √† Business Central : principalement le technique.

## üö® ERREURS CRITIQUES √Ä NE JAMAIS REPRODUIRE

### **PowerShell - Syntaxe Obligatoire**
- ‚ùå **JAMAIS de && dans les commandes PowerShell**
- ‚úÖ **TOUJOURS s√©parer les commandes** : cd puis npm run compile
- ‚ùå **JAMAIS "cd path && command"** ‚Üí Erreur garantie
- ‚úÖ **TOUJOURS "cd path" puis "command" en s√©par√©**

#### **‚ùå Exemples INTERDITS :**
```powershell
# ERREUR - Ne jamais faire cela
cd "e:\GIT\FROMM France\BC_FROMM\app\fromm-extension" && npm run compile
cd path && command
```

#### **‚úÖ Syntaxe CORRECTE :**
```powershell
# CORRECT - Toujours s√©parer
cd "e:\GIT\FROMM France\BC_FROMM\app\fromm-extension"
npm run compile

# Ou utiliser ; pour PowerShell
cd "path"; command
```

#### **üéØ R√®gle Absolue :**
**PowerShell ‚â† Bash/Linux** : L'op√©rateur `&&` n'existe pas en PowerShell natif. Utiliser `;` ou s√©parer les commandes.

### **Autres Erreurs Critiques**
- ‚ùå **JAMAIS** modifier des IDs d'objets sans validation m√©tier
- ‚ùå **JAMAIS** supprimer des proc√©dures utilis√©es sans analyse d'impact
- ‚ùå **JAMAIS** utiliser `this` en AL (non support√©)
- ‚úÖ **TOUJOURS** tester les corrections sur objets r√©els avant validation

## Quota et Limitations GitHub Copilot

#### ‚úÖ **V√©rifications :**
- V√©rifier le statut dans la barre d'√©tat VS Code
- Contr√¥ler l'usage via l'interface Copilot
- S'assurer que le quota n'est pas √©puis√©

#### üîß **Cons√©quences si quota √©puis√© :**
- **Perte des corrections automatiques** (fonctionnalit√© premium)
- Mode d√©grad√© jusqu'au reset mensuel
- Seules les suggestions basiques restent actives

---

Ce fichier sert de r√©f√©rence pour Copilot et tout outil d'automatisation afin de garantir l'uniformit√© et la qualit√© sur l'ensemble du projet BC_FROMM.

**Version :** 15 ao√ªt 2025 15:45 - Post-correction extension + Reports fonctionnels

# √Ä retenir : Formation et utilisation des snippets FROMM

Il est fortement recommand√© d'apprendre √† se servir des snippets FROMM France pour acc√©l√©rer et standardiser le d√©veloppement AL.
Se r√©f√©rer au guide "GUIDE_SNIPPETS_FROMM.md" (app\docs\Guides) pour :
- Installation et activation des snippets dans VS Code
- Liste des principaux snippets et leur usage
- Bonnes pratiques et workflow d'application des standards
- Raccourcis utiles et conseils de productivit√©

L'int√©gration r√©guli√®re des snippets dans le workflow garantit la coh√©rence, la qualit√© et la maintenance du code selon les standards FROMM.

Synchroniser et mettre √† jour ce contexte √† chaque √©volution du guide des snippets.

// ================================================================================
// FROMM France - Business Central Extension
// Module: Order Confirmation Report FR0
// Description: Rapport de confirmation de commande de vente avec personnalisations FROMM France
// Version: 2.0.0
// Date: 21/08/25  ‚Üê FORMAT FROMM (JJ/MM/AA)
// Author: √âquipe D√©veloppement FROMM France
// ================================================================================

## Extension FROMM ‚Äì D√©tails Techniques
# üìò GitHub Copilot C- ‚úÖ **Nom de l'app** : Fromm-extension (Version 1.1.2 - Production Ready)
- ‚úÖ **Analyzers op√©rationnels** : CodeCop (4 r√®gles), UICop, PerTenantExtensionCop
- ‚úÖ **Structure valid√©e** : dossier `app` avec sous-dossier `fromm-extension`
- ‚úÖ **Distribution autonome** : Pas de d√©pendance externe, package VSIX complet
- ‚úÖ **Script d'installation** : "build-and-install.ps1" automatis√© et fonctionnel
- ‚úÖ **Tests complets** : Syst√®me de validation autonome int√©gr√© (AutoTestCodeCop.ts)
- ‚úÖ **Mission accomplie** : Extension finalis√©e et valid√©e √† 100% File pour le sous-projet fromm-extension

## üß≠ Objectif du projet
D√©velopper une extension qui aide les d√©veloppeurs Business Central travaillant sur le projet √† normaliser leur code AL.
Cette extension n'est qu'un outil VS Code et ne sera pas d√©ploy√©e sur Business Central.
L'extension est r√©alis√©e par la Soci√©t√© Prodware par Christian GILLES (Responsable technique) pour le compte du client Fromm France. L'extension et les droits de propri√©t√© doivent stipuler cette appartenance.

## üì¶ Objets √† cr√©er
- ‚úÖ **Fonction principale** : "Analyser et corriger la structure actuelle" (Ctrl+Alt+F)
- ‚úÖ **CodeCop System** : 4 r√®gles automatiques int√©gr√©es (AA0005, AA0008, AA0074, AA0217)
- ‚úÖ **Tests autonomes** : Syst√®me de validation automatique complet
- ‚úÖ **Messages d'√©tat** : D√©but et fin de traitement avec gestion d'affichage exclusive
- ‚úÖ **Package distribution** : fromm-standards-1.1.2.vsix pr√™t pour d√©ploiement

## ‚öôÔ∏è Contraintes techniques
- L'outil a √©t√© b√¢ti en langage TypeScript
- Le projet a √©tait factoris√© 
- A l'ouverture du projet global (en workspace ou en folder), si l'extension fromm-extension est active, le readme de Fromm-extension doit se lancer. Une case √† cocher permet de masquer au prochain d√©marrage. Il indique la propri√©t√© intellectuel √† Prodware.
- Le fichier Read-me de fromm-extension est mis √† jour √† chaque gros avancement.
- Version cible : outil lanc√© sur des objets Business Central 26.0
- Nom de l‚Äôapp : Fromm-extension
- Utilisation des analyzers : CodeCop, UICop, PerTenantExtensionCop
- Structure du projet : dossier `app` avec sous-dossier `fromm-extension`
- Pas de d√©pendance externe ou script de d√©ploiement automatique
- Un script PowerShell "build-and-install.ps1" permet d'automatiser la livraison
- La mission est termin√©e uniquement si je valide les tests. Sinon la demande reste ouverte et en cours.
- Quand tu me demandes d'intervenir sur un fichier, il doit y avoir le nom et l'emplacement du fichier.
- Un param√©trage permet de d√©finir le r√©pertoire de travaille.
- Pour toutes modification importante tu commenceras par proposer la cr√©ation d'une branche.

## üö´ √âl√©ments √† √©viter
- Si des scripts PowerShell sont cr√©√©s pour analyse ou test, ils doivent √™tre supprim√©s automatiquement quand l'objectif est atteint.
- Ne pas cr√©er de nouvelle app ou fichier `app.json`
- Ne pas modifier le fichier `launch.json`
- Ne pas proposer de logique de CI/CD ou de packaging
- Dans les commandes de type "cd "e:\GIT\FROMM France\BC_FROMM\app\fromm-extension" && npm run compile" ne pas utiliser "&&" qui g√©n√©re l'erreur : "Au caract√®re Ligne:1 : 55
+ cd "e:\GIT\FROMM France\BC_FROMM\app\fromm-extension" && npm run comp ...
+                                                       ~~
Le jeton ¬´ && ¬ª n‚Äôest pas un s√©parateur d‚Äôinstruction valide.
    + CategoryInfo          : ParserError: (:) [], ParentContainsErrorRecordException
    + FullyQualifiedErrorId : InvalidEndOfLine"
- si des fichiers `.ps1`, `.bat`, ou `.sh` sont cr√©√©s pour analyse ou test, ils doivent √™tre supprim√©s automatiquement quand l'objectif est atteint.

## ‚úÖ Ce que je veux
- Obtenir le fonctionnement de base attendu 
- Des tests de bases doivent √™tre effectu√©s au moment de la compilation pour garantir le fonctionnement essentiel.
- Pouvoir importer de nouvelles r√®gles √† partir d‚Äôun fichier .md ou de retirer les id√©es du fichier. Je veux pouvoir transformer les nouvelles r√®gles en programme d‚Äôaide au d√©veloppeur.
- Code clair, comment√©, et pr√™t √† √™tre int√©gr√© dans le projet existant
- R√©ponses en Fran√ßais uniquement
- Les objets AL doivent suivre la norme utilis√©e sur "BC_FROMM\app\src\CodeUnit\AdvancedDistribMgtFR0.Codeunit.al" ou sur "BC_FROMM\app\src\TableExtension\SalesHeaderFR0.TableExt.al".

## üìÅ Structure du projet
- `app/fromm-extension/docs` : contient les documents du projet
- `scripts/` : contient des outils manuels (non utilis√©s par Copilot) du projet global
- `test/` : contient les tests AL du projet global
- build-and-install.ps1 √† la racine du projet compile, test et installe l'app.
- copilot-context.txt : est un fichier pour la communication avec copilot l doit √™tre conserv√© dans toutes les versions.
- Prompt.md sert de m√©moire entre copilot et moi pour se souvenir de nos √©changes cl√©s. Il ne doit pas √™tre supprim√©. (FROMM France\BC_FROMM\Prompt.md)
- 'app/fromm-extension/src/services/ALAnalyzer.ts est un fichier cl√© du projet. Il doit √™tre manipul√© avec prudence.
- Le readme de r√©f√©rence du projet est stock√© dans "FROMM France\BC_FROMM\app\fromm-extension\README.md".


## üß™ Exemple de prompt efficace
```al
// Copilot : 
<Profil>
Tu es un expert en projet TypeScript. Tu as √©galement des comp√©tences √©lev√©es en langage AL. 
<Profil>
<Contraintes>
Prends le temps de mener une expertise fine et donnes seulement des r√©ponses dont tu es certains √† 100%. 
Tu dois reconstruire l‚Äôapplication fromm-extension fonctionnelle.
<Contraintes>
<EtatDesLieux>
L‚Äôextension dispose d‚Äôune commande palette pour ajouter dynamiquement des r√®gles CodeCop, avec documentation claire et suppression ais√©e.
L‚Äôaffichage des messages d‚Äôanalyse est d√©sormais coh√©rent : le message de d√©but s‚Äôaffiche dans la barre de statut et dispara√Æt avant le message de fin.
L‚Äôordre des corrections (r√©gions, en-t√™te, contenu, formatage) a √©t√© fiabilis√© pour garantir la robustesse de l‚Äôoutil.
Le module de test interne (FROMMTests) existe mais son √©tat fonctionnel doit √™tre v√©rifi√© √† chaque √©volution majeure.
Le projet a √©t√© refactoris√©, les anciennes tentatives sont d√©sormais archiv√©es ou supprim√©es pour garantir un seul jeu de fichiers coh√©rents.
</EtatDesLieux>
<Mission>
Tu es missionn√© pour reprendre une application ¬´ Fromm-extension ¬ª afin de solder la reconstruction de l‚Äôapplication Fromm-extension.
La mission prioritaire est : faire marcher les fonctions d‚Äôanalyse et de standardisation en priorit√©, puis r√©int√©grer progressivement les autres fonctions, avec sauvegarde √† chaque √©tape.
Un seul jeu de fichiers coh√©rents et homog√®nes doit √™tre maintenu dans le r√©pertoire Fromm-extension.
</Mission>
<Tests>
Le r√©pertoire test est stock√© : "BC_FROMM\app\fromm-extension\src\test".
Je veux des jeux de tests non intrusif. Donc tu fais un script PowerShell qui cr√©e un objet de test. A la validation du test tu supprimes les objets utiis√©s pour les
</Tests>

## üß® Historique des tentatives
- ‚úÖ **Mission accomplie** : Extension FROMM Standards v1.1.2 finalis√©e
- ‚úÖ **Syst√®me CodeCop** : 4 r√®gles op√©rationnelles (AA0005, AA0008, AA0074, AA0217)
- ‚úÖ **Tests autonomes** : Syst√®me de validation automatique int√©gr√©
- ‚úÖ **Fusion r√©ussie** : Branche feature/codecoprules fusionn√©e dans CHGI
- ‚úÖ **Package valid√©** : fromm-standards-1.1.2.vsix pr√™t pour distribution
- Tentative 1 : perte du d√©clenchement automatique du ReadMe (r√©solu)
- Refonte en supprimant l'interface graphique et en gardant Ctrl+Alt+F comme analyse et correction (finalis√©)
- Ajout de CodeCop √† traiter comme de nouvelles r√®gles (impl√©ment√© et valid√©)

## üéØ √âtat Actuel (V1.1.2)
- **Fonctionnalit√© principale** : ‚úÖ Op√©rationnelle (Ctrl+Alt+F)
- **R√®gles CodeCop** : ‚úÖ 4/4 r√®gles fonctionnelles (100%)
- **Tests automatiques** : ‚úÖ Validation en temps r√©el (< 15ms)
- **Package distribution** : ‚úÖ Pr√™t et valid√©
- **Documentation** : ‚úÖ √Ä jour et compl√®te
- **Syst√®me de test autonome** : `AutoTestCodeCop.ts` dans `src/test/`

## üìã R√©ponses attendues
- Code uniquement, sans explication inutile
- Commentaires dans le code pour chaque bloc fonctionnel
- Pas de proposition de fichiers ou scripts hors p√©rim√®tre

## Communication avec les d√©veloppeurs
Propose des dictons de d√©veloppeur amusant de temps en temps, pas √† chaque it√©ration.
Propose par √©tape, des informations pour m'aider √† monter en comp√©tence de temps en temps.
Tiens moi inform√© de toutes informations importantes relatives √† Business Central : principalement le technique.

## Projet AUXIGA Classic ‚Äì Contexte Technique
# üìò Contexte Projet ‚Äì Auxiga Classic

## üè∑Ô∏è Informations G√©n√©rales
- **Nom de l‚Äôapp** : Auxiga Classic
- **Client** : Auxiga
- **Langage principal** : C/AL 
- **Cible** : D√©veloppement d‚Äôobjets C/AL BC 14
- **Structure** : Organisation par dossiers (Codeunit, Table, Page, Report, Xmlport, etc.)

## üß≠ Objectif
D√©velopper, maintenir et standardiser les objets C/AL du projet Auxiga afin de r√©pondre aux besoins m√©tiers du client, tout en respectant les normes de d√©veloppement Business Central et en pr√©parant les objets au passage en version BC26.

## üì¶ Fonctionnalit√©s principales
- Cr√©ation et maintenance d‚Äôobjets C/AL (Codeunit, Table, Page, Report, etc.)
- Respect des standards de nommage et de structuration C/AL
- Documentation technique et fonctionnelle associ√©e
- Scripts d‚Äôautomatisation pour le build, le nettoyage et l‚Äôimport d‚Äôobjets

## ‚öôÔ∏è Contraintes techniques
- Les objets pr√©sents sont des objets C/AL export√©s en TXT.
- Respect des conventions C/AL utilis√©es dans le projet (voir objets de r√©f√©rence si besoin)
- Progressivement pr√©parer les objets pour faciliter leur passage dans les nouvelles version BC26
- Scripts PowerShell pour automatiser certaines t√¢ches (build, clean, import, r√©solution de conflits)
- Pas de d√©pendance externe non valid√©e
- Toute modification importante doit √™tre r√©alis√©e sur une branche d√©di√©e
- Documentation √† jour dans les fichiers markdown du projet
- Utiliser N¬∞ et nom des champs quand tu communiques.

## üö´ √Ä √©viter
- Modification non justifi√©e de la structure des dossiers principaux
- Ajout de d√©pendances ou de scripts sans validation
- Conservation de scripts temporaires apr√®s usage
- Modification de fichiers de configuration sans validation

## üß™ Tests
- Les tests doivent √™tre non-intrusifs et, si possible, automatis√©s
- Nettoyage automatique des objets de test apr√®s validation
- Validation des tests √† chaque √©volution majeure

## üìÅ Structure du projet
- `Codeunit/` : codeunits C/AL
- `Table/` : tables C/AL
- `Page/` : pages C/AL
- `Report/` : rapports C/AL
- `Xmlport/` : xmlports C/AL
- `Menusuite/`, `Query/` : autres objets C/AL
- Fichiers markdown de documentation √† la racine
- Scripts PowerShell pour automatisation (`build`, `clean`, `import`, etc.)
- `app.json` : configuration de l‚Äôapplication

## üìã Attentes pour Copilot
- R√©ponses en fran√ßais, code comment√©, sans explication inutile
- Proposer des √©tapes claires pour chaque intervention
- Informer sur les points techniques importants li√©s √† Business Central
- Maintenir la coh√©rence et la propret√© du code et des fichiers
- Priorit√© √† la robustesse et √† la maintenabilit√© des objets AL

---

Ce fichier sert de base de contexte pour toute intervention sur le projet Auxiga Classic. √Ä relire et compl√©ter selon les sp√©cificit√©s et besoins du projet.

> üìÑ Pour la structure d√©taill√©e des documentations de livraison, voir aussi : [GUIDE_TEMPLATE_DOCUMENTATION.md](./Docs/GUIDE_TEMPLATE_DOCUMENTATION.md)

> ‚ÑπÔ∏è Les √©volutions majeures et d√©cisions structurantes sont consign√©es dans [Prompt.txt](./Prompt.txt). Ce fichier est mis √† jour √† chaque changement de standard ou de fonctionnement.

